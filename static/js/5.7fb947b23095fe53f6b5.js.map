{"version":3,"sources":["webpack:///./src/components/config/sensorType.js","webpack:///src/components/sensors/Sensors.vue","webpack:///./src/components/sensors/Sensors.vue?5997","webpack:///./src/components/sensors/Sensors.vue","webpack:///src/components/Filter.vue","webpack:///./src/components/Filter.vue?b1e7","webpack:///./src/components/Filter.vue","webpack:///src/pages/monitor/cardMode.vue","webpack:///./src/pages/monitor/cardMode.vue?9d0b","webpack:///./src/pages/monitor/cardMode.vue","webpack:///src/components/AlarmStatus.vue","webpack:///./src/components/AlarmStatus.vue?9baa","webpack:///./src/components/AlarmStatus.vue"],"names":["SENSOR_TYPE","1","label","icon","bgClass","SmokeDtector","GasDetectorHome","GasDetectorIndu","LiquidLevel","WaterPressure","Geomagnetic","Cover","WaterMeterSP","WaterMeterSK","Temp_Humi","Lamp","Flow","STATUS_MAP","ok","bgColor","tag","text","color","offline","error","alarm","Sensors","name","components","battery","props","params","type","Object","required","default","computed","sen","_ref","this","sensor","categoryCode","title","otherStyles","style","batteries","length","showBtry","span","statusStyle","statusName","正常","离线","故障","报警","data","loading","bottomLeft","bottomRight","categoryName","devId","values","commands","equipmentDetail","methods","extends_default","vuex_esm","switchDevice","switchDev","command","_this","cmd","deveui","then","res","watch","immediate","deep","handler","val","old","assign_default","sensors_Sensors","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","class","background-color","staticClass","attrs","_v","gutter","_s","_l","bt","k","key","percent","tip","_e","staticStyle","font-size","font-family","text-align","line-height","height","i","toString","split","parseFloat","toFixed","unit","round","size","on","click","$event","offset","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Filter","sensorTypes","Array","sensorStatus","types","map","t","code","CODE","NAME","show","status","typeActive","statusActive","toggle","changeSensors","$emit","changeStatus","getStyle","components_Filter","placement","width","trigger","popper-class","index","cursor","slot","margin-left","st","src_components_Filter","cardMode","sensor-component","sensor-filter","alarm-status","AlarmStatus","device","userInfo","deviceInfo","popVisible","intervalId","deviceloading","alarmList","filterSensorType","filterSensorStatus","selectedAlarm","destroyed","console","log","mounted","window","setInterval","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","queryDeviceList","stop","getSensorTypes","getSensorStatus","beforeDestroy","clearInterval","clearAllData","beforeRouteLeave","to","from","getDeviceList","configPage","page_number","page_size","ChangeStatus","selectAlarm","evt","id","suggestion","deviceStatus","deviceStatusName","reason","desc","closeConfirm","arguments","undefined","handleSizeChange","handleCurrentChange","toDeviceDetail","$router","push","query","monitor_cardMode","padding","element-loading-text","element-loading-spinner","element-loading-background","sensorChanged","statusChanged","list","item","xs","sm","md","lg","xl","nativeOn","margin","background","current-page","page-sizes","page-size","layout","total","total_count","size-change","current-change","cardMode_Component","cardMode_normalizeComponent","0","2","3","styleObj","display","border-radius","components_AlarmStatus"],"mappings":"gHAAaA,GACXC,GACEC,MAAO,KACPC,KAAM,uCACNC,QAAS,iBAEXC,cACEH,MAAO,KACPC,KAAM,+BACNC,QAAS,kBAEXE,iBACEJ,MAAO,UACPC,KAAM,kCACNC,QAAS,qBAEXG,iBACEL,MAAO,SACPC,KAAM,kCACNC,QAAS,qBAEXI,aACEN,MAAO,KACPC,KAAM,wBACNC,QAAS,eAEXK,eACEP,MAAO,KACPC,KAAM,4BACNC,QAAS,kBAEXM,aACER,MAAO,KACPC,KAAM,4BACNC,QAAS,eAEXO,OACET,MAAO,KACPC,KAAM,sBACNC,QAAS,SAEXQ,cACEV,MAAO,SACPC,KAAM,+BACNC,QAAS,eAEXS,cACEX,MAAO,KACPC,KAAM,+BACNC,QAAS,eAEXU,WACEZ,MAAO,MACPC,KAAM,yBACNC,QAAS,YAEXW,MACEb,MAAO,KACPC,KAAM,2BACNC,QAAS,QAEXY,MACEd,MAAO,KACPC,KAAM,8BACNC,QAAS,mBCzBba,GACAC,IACAC,QAAA,UACAC,KACAC,KAAA,KACAC,MAAA,YAGAC,SACAJ,QAAA,UACAC,KACAC,KAAA,KACAC,MAAA,YAGAE,OACAL,QAAA,UACAC,KACAC,KAAA,KACAC,MAAA,YAGAG,OACAN,QAAA,UACAC,KACAC,KAAA,KACAC,MAAA,aAKAI,GACAC,KAAA,UACAC,YACAC,kBAAA,GAEAC,OACAC,QACAC,KAAAC,OACAC,UAAA,EACAC,QAAA,WACA,YAIAC,UACAC,IAAA,eAAAC,EACAtC,EAAAuC,KAAAC,OAAAC,gBACAvC,MAAA,MACAC,KAAA,8BACAC,QAAA,kBAHAsC,EADAJ,EACApC,MAKA,OACAC,KAPAmC,EACAnC,KAOAuC,QACAtC,QATAkC,EACAlC,UAWAuC,YAAA,WACA,IAAAC,KAYA,OAXAL,KAAAC,OAAAK,WAAAN,KAAAC,OAAAK,UAAAC,OAAA,EACAF,EAAAF,OACAK,UAAA,EACAC,MAAA,OAGAJ,EAAAF,OACAK,UAAA,EACAC,MAAA,OAGAJ,GAEAK,YAAA,WACA,IAMAC,EAAAX,KAAAC,OAAAU,WACA,OAAAjC,GANAkC,KAAA,KACAC,KAAA,UACAC,KAAA,QACAC,KAAA,SAGAJ,MAGAK,KArDA,WAsDA,OACAC,SAAA,EACAhB,QACAiB,WAAA,GACAC,YAAA,GACAjB,aAAA,GACAkB,aAAA,GACAC,MAAA,GACAV,WAAA,GACAR,MAAA,GACAG,aACAgB,UACAC,aAEAC,gBAAA,qBAGAC,QAAWC,OACXhC,OAAAiC,EAAA,EAAAjC,EACAkC,aAAA,0BAEAC,UAJA,SAIAC,GAAA,IAAAC,EAAA/B,KACAA,KAAAiB,SAAA,EACAjB,KAAA4B,cACAI,IAAAF,EAAAE,IACAC,OAAAH,EAAAG,SACAC,KAAA,SAAAC,GACAJ,EAAAd,SAAA,OAIAmB,OACA5C,QACA6C,WAAA,EACAC,MAAA,EACAC,QAAA,SAAAC,EAAAC,GACA,GAAAD,EAAA,KACAtB,EAAAsB,EAAAtB,WAAAC,EAAAqB,EAAArB,YAAAjB,EAAAsC,EAAAtC,aAAAkB,EAAAoB,EAAApB,aAAAC,EAAAmB,EAAAnB,MAAAV,EAAA6B,EAAA7B,WAAAR,EAAAqC,EAAArC,MAAAG,EAAAkC,EAAAlC,UAAAgB,EAAAkB,EAAAlB,OAAAC,EAAAiB,EAAAjB,SACAvB,KAAAC,OAAAyC,OAAA1C,KAAAC,QACAiB,aACAC,cACAjB,eACAkB,eACAC,QACAV,aACAR,QACAG,YACAgB,SACAC,kBCzKeoB,GADEC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAa9D,KAAA,UAAA+D,QAAA,YAAAC,MAAAP,EAAA,QAAAQ,WAAA,YAA4EC,OAAAT,EAAArB,iBAAAnB,OAAsCkD,mBAAAV,EAAAnC,YAAA9B,WAA8CoE,EAAA,KAAUQ,YAAA,cAAAF,MAAAT,EAAA/C,IAAAlC,KAAA6F,OAAoDtD,MAAA0C,EAAA/C,IAAAK,SAAuB0C,EAAAa,GAAA,KAAAV,EAAA,UAA2BQ,YAAA,WAAAC,OAA8BE,OAAA,EAAAxD,MAAA0C,EAAA5C,OAAAE,SAAqC6C,EAAA,UAAeS,OAAOhD,KAAAoC,EAAAzC,YAAAD,MAAAM,KAAA,MAAsCuC,EAAA,QAAAH,EAAAa,GAAAb,EAAAe,GAAAf,EAAA5C,OAAAE,YAAA0C,EAAAa,GAAA,KAAAb,EAAAzC,YAAAD,MAAA,SAAA6C,EAAA,UAA4GQ,YAAA,OAAAC,OAA0BhD,KAAAoC,EAAAzC,YAAAD,MAAAM,KAAA,KAAsCoC,EAAAgB,GAAAhB,EAAA5C,OAAA,mBAAA6D,EAAAC,GAA8C,OAAAf,EAAA,WAAqBgB,IAAAD,EAAAN,OAAaL,MAAAU,EAAAG,QAAA9D,MAAA2D,EAAAI,UAAqCrB,EAAAsB,MAAA,GAAAtB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAAA,EAAA,UAAmEoB,aAAarF,MAAA,OAAAsF,YAAA,YAAAC,cAAA,mBAAuEb,OAAQ1E,MAAA8D,EAAAnC,YAAA7B,IAAAE,SAAmC8D,EAAAa,GAAAb,EAAAe,GAAAf,EAAAnC,YAAA7B,IAAAC,UAAA,OAAA+D,EAAAa,GAAA,KAAAb,EAAA5C,OAAAqB,OAAAf,OAAA,EAAAyC,EAAA,UAA6G3C,OAAQkE,aAAA,SAAAC,cAAA,YAAAC,OAAA,WAAwEhB,OAASE,OAAA,IAAYd,EAAAgB,GAAAhB,EAAA5C,OAAA,gBAAAuC,EAAAkC,GAA4C,OAAA1B,EAAA,UAAoBgB,IAAAU,EAAAlB,YAAA,OAAAnD,OAAiCgE,YAAAxB,EAAA5C,OAAAqB,OAAAf,QAAA,sBAAkEkD,OAAShD,KAAA,GAAAoC,EAAA5C,OAAAqB,OAAA,OAAAnB,MAAAqC,EAAA0B,OAAwDlB,EAAA,QAAa3C,OAAQtB,MAAA8D,EAAAnC,YAAA7B,IAAAE,MAAAuF,cAAA,aAA6DzB,EAAAa,GAAAb,EAAAe,GAAA,IAAApB,EAAAY,MAAAuB,WAAAC,MAAA,KAAArE,QAAAiC,EAAAY,MAAAuB,WAAAC,MAAA,QAAArE,OAAA,EAAAsE,WAAArC,EAAAY,OAAA0B,QAAA,GAAAtC,EAAAY,UAAAP,EAAAa,GAAA,KAAAV,EAAA,QAA0LoB,aAAaC,YAAA,eAAyBxB,EAAAa,GAAAb,EAAAe,GAAApB,EAAAuC,cAA+BlC,EAAAsB,KAAAtB,EAAAa,GAAA,KAAAb,EAAA5C,OAAAsB,SAAAhB,OAAA,EAAAyC,EAAA,UAAsEoB,aAAaG,aAAA,SAAAC,cAAA,YAAAC,OAAA,WAAmEhB,OAAQE,OAAA,IAAYd,EAAAgB,GAAAhB,EAAA5C,OAAA,kBAAA6B,EAAAiC,GAAkD,OAAAf,EAAA,UAAoBgB,IAAAD,EAAAN,OAAahD,KAAA,GAAAoC,EAAA5C,OAAAsB,SAAA,OAAApB,MAAA2B,EAAAoC,OAA8DlB,EAAA,aAAkBS,OAAOuB,MAAA,GAAAvF,KAAA,MAAAqC,EAAAE,IAAA,mBAAAiD,KAAA,QAA2EC,IAAKC,MAAA,SAAAC,GAAyBvC,EAAAhB,UAAAC,OAAyBe,EAAAa,GAAAb,EAAAe,GAAA9B,EAAA1C,UAAA,MAAqCyD,EAAAsB,KAAAtB,EAAAa,GAAA,KAAAV,EAAA,UAAqCoB,aAAaG,aAAA,OAAAF,YAAA,cAA6CZ,OAAQE,OAAA,KAAYX,EAAA,UAAeS,OAAOhD,KAAA,GAAAN,MAAA,UAA0B0C,EAAAa,GAAAb,EAAAe,GAAAf,EAAA5C,OAAAiB,eAAA2B,EAAAa,GAAA,KAAAV,EAAA,UAAmEoB,aAAaG,aAAA,SAAqBd,OAAQhD,KAAA,GAAA4E,OAAA,EAAAlF,MAAA,UAAqC0C,EAAAa,GAAAb,EAAAe,GAAAf,EAAA5C,OAAAkB,iBAAA,QAE/gFmE,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEtG,EACAwD,GATF,EAVA,SAAA+C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,6KCoBhCK,GACAxG,KAAA,SACAG,OACAsG,aACApG,KAAAqG,MACAlG,QAAA,sBAEAmG,cACAtG,KAAAqG,MACAlG,QAAA,uBAGAC,UACAmG,MAAA,WACA,OAAAhG,KAAA6F,YAAAI,IAAA,SAAAC,GACA,OACAC,KAAAD,EAAAE,KACAhH,KAAA8G,EAAAG,UAKArF,KAtBA,WAuBA,OACAsF,MAAA,EACAC,UACAC,WAAA,GACAC,aAAA,KAGAhF,SACAiF,OADA,WAEA1G,KAAAsG,MAAAtG,KAAAsG,MAEAK,cAJA,SAIAnE,GACAxC,KAAAwG,WAAAhE,EAAA2D,KACAnG,KAAA4G,MAAA,gBAAApE,IAEAqE,aARA,SAQArE,GAAA,IACAY,EAAAZ,EAAAY,MACApD,KAAAyG,aAAArD,EACApD,KAAA4G,MAAA,gBAAApE,IAEAsE,SAbA,SAaA1D,EAAA3D,GAEA,OAAA2D,IAAApD,KADA,WAAAP,EAAA,6BAEA,UAEA,aC3FesH,GADEnE,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BQ,YAAA,WAAqBR,EAAA,cAAmBgB,IAAA,OAAAP,OAAkBuD,UAAA,SAAAC,MAAA,MAAAC,QAAA,QAAAC,eAAA,oBAAsFnE,EAAA,OAAYQ,YAAA,UAAoBR,EAAA,aAAkBS,OAAOhE,KAAAoD,EAAAiE,SAAA,WAAA7B,KAAA,OAAAD,MAAA,IAAyDE,IAAKC,MAAA,SAAAC,GAAyBvC,EAAA8D,eAAmBR,KAAA,GAAA/G,KAAA,WAAyByD,EAAAa,GAAA,kCAAAb,EAAAa,GAAA,KAAAb,EAAAgB,GAAAhB,EAAA,eAAAqD,EAAAkB,GAA4F,OAAApE,EAAA,aAAuBgB,IAAAoD,EAAA3D,OAAiBhE,KAAAoD,EAAAiE,SAAAZ,EAAAC,KAAA,QAAAlB,KAAA,OAAAD,MAAA,IAA6DE,IAAKC,MAAA,SAAAC,GAAyBvC,EAAA8D,cAAAT,OAAuBrD,EAAAa,GAAA,iBAAAb,EAAAe,GAAAsC,EAAA9G,MAAA,qBAA2D,GAAAyD,EAAAa,GAAA,KAAAV,EAAA,OAA4BoB,aAAaiD,OAAA,WAAmB5D,OAAQ6D,KAAA,aAAmBA,KAAA,cAAkBtE,EAAA,QAAAH,EAAAa,GAAA,UAAAV,EAAA,KAAsCQ,YAAA,4BAAiC,GAAAX,EAAAa,GAAA,KAAAV,EAAA,OAAgCQ,YAAA,SAAAY,aAAkCmD,cAAA,UAAsBvE,EAAA,cAAmBgB,IAAA,OAAAP,OAAkBuD,UAAA,SAAAC,MAAA,MAAAC,QAAA,QAAAC,eAAA,oBAAsFnE,EAAA,OAAYQ,YAAA,WAAqBR,EAAA,aAAkBS,OAAOhE,KAAAoD,EAAAiE,SAAA,aAAA7B,KAAA,OAAAD,MAAA,IAA2DE,IAAKC,MAAA,SAAAC,GAAyBvC,EAAAgE,cAAkBzD,MAAA,GAAAhE,KAAA,WAA0ByD,EAAAa,GAAA,kCAAAb,EAAAa,GAAA,KAAAb,EAAAgB,GAAAhB,EAAA,sBAAA2E,EAAAJ,GAAoG,OAAApE,EAAA,aAAuBgB,IAAAoD,EAAA3D,OAAiBhE,KAAAoD,EAAAiE,SAAAU,EAAApE,MAAA,UAAA6B,KAAA,OAAAD,MAAA,IAAiEE,IAAKC,MAAA,SAAAC,GAAyBvC,EAAAgE,aAAAW,OAAuB3E,EAAAa,GAAA,iBAAAb,EAAAe,GAAA4D,EAAApI,MAAA,qBAA4D,GAAAyD,EAAAa,GAAA,KAAAV,EAAA,OAA4BoB,aAAaiD,OAAA,WAAmB5D,OAAQ6D,KAAA,aAAmBA,KAAA,cAAkBtE,EAAA,QAAAH,EAAAa,GAAA,UAAAV,EAAA,KAAsCQ,YAAA,4BAAiC,MAEhxD8B,oBCCjB,IAuBemC,EAvBUjC,EAAQ,OAcjCC,CACEG,EACAmB,GATF,EAVA,SAAArB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,gCCIhCkC,GACAtI,KAAA,UACAC,YACAsI,mBAAAxI,EAAA,EACAyI,gBAAAH,EACAI,eAAAC,EAAA,GAEAjI,SAAY6B,OACZhC,OAAAiC,EAAA,EAAAjC,EACAqI,OAAA,iBACAC,SAAA,kBACAC,WAAA,qBACApC,YAAA,sBACAE,aAAA,0BAGA/E,KAhBA,WAiBA,OACAkH,YAAA,EACAC,WAAA,GACAC,eAAA,EACAC,aACAC,iBAAA,GACAC,mBAAA,GACAC,mBAGAC,UA3BA,WA4BAC,QAAAC,IAAA,mBAEAC,QA9BA,WA8BA,IAAA7G,EAAA/B,KACA0I,QAAAC,IAAA,oBACA3I,KAAAmI,WAAAU,OAAAC,YAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAxH,EAAAyH,kBADA,wBAAAH,EAAAI,SAAAN,EAAApH,MAEA,KACA/B,KAAA0J,iBACA1J,KAAA2J,mBAEAC,cAtCA,WAuCAf,OAAAgB,cAAA7J,KAAAmI,YACAnI,KAAAmI,WAAA,KAEAnI,KAAA8J,gBAYAC,iBAtDA,SAsDAC,EAAAC,EAAAV,GACAV,OAAAgB,cAAA7J,KAAAmI,YACAnI,KAAAmI,WAAA,KAEAnI,KAAA8J,eACAP,KAEA9H,QAAWC,OACXhC,OAAAiC,EAAA,EAAAjC,EACAwK,cAAA,wBACAtI,aAAA,uBACAuI,WAAA,qBACAT,eAAA,yBACAC,gBAAA,4BAEAjK,OAAAiC,EAAA,EAAAjC,EACAoK,aAAA,4BAGAN,gBAZA,WAaAxJ,KAAAkK,eACAhK,aAAAF,KAAAsI,iBACA/B,OAAAvG,KAAAuI,sBAIA5B,cAnBA,SAmBAnE,GAAA,IACA2D,EAAA3D,EAAA2D,KACAnG,KAAAsI,iBAAAnC,EAEAnG,KAAAmK,YAAAC,YAAA,EAAAC,UAAArK,KAAA+H,OAAAsC,YACArK,KAAAwJ,mBAGAc,aA3BA,SA2BA9H,GAAA,IACAY,EAAAZ,EAAAY,MACApD,KAAAuI,mBAAAnF,EAEApD,KAAAmK,YAAAC,YAAA,EAAAC,UAAArK,KAAA+H,OAAAsC,YACArK,KAAAwJ,mBAGAe,YAnCA,SAmCArL,EAAAsL,GACAxK,KAAAkI,YAAA,EADA,IAEAuC,EAAAvL,EAAAuL,GAAAhL,EAAAP,EAAAO,KAAAL,EAAAF,EAAAE,KAAAsL,EAAAxL,EAAAwL,WAAAC,EAAAzL,EAAAyL,aAAAC,EAAA1L,EAAA0L,iBAAAC,EAAA3L,EAAA2L,OAAAC,EAAA5L,EAAA4L,KAAA5K,EAAAhB,EAAAgB,aACAF,KAAAwI,eACAiC,KACAhL,OACAL,OACAsL,aACAC,eACAC,mBACAC,SACAC,OACA5K,iBAOA6K,aAtDA,WAsDAC,UAAAzK,OAAA,QAAA0K,IAAAD,UAAA,IAAAA,UAAA,GACAhL,KAAAkI,YAAA,GAGAgD,iBA1DA,SA0DA1I,GACAxC,KAAAmK,YAAAC,YAAApK,KAAA+H,OAAAqC,YAAAC,UAAA7H,IACAxC,KAAAwJ,mBAGA2B,oBA/DA,SA+DA3I,GACAxC,KAAAmK,YAAAC,YAAA5H,EAAA6H,UAAArK,KAAA+H,OAAAsC,YACArK,KAAAwJ,mBAEA4B,eAnEA,SAmEA5I,GAAA,IACAnB,EAAAmB,EAAAnB,MACArB,KAAAqL,QAAAC,MAAAlM,KAAA,aAAAmM,OAAAlK,eC7JemK,GADE5I,OAFP,WAAgB,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAA0BQ,YAAA,cAAwBR,EAAA,YAAiBQ,YAAA,aAAAY,aAAsCqH,QAAA,sCAA+ChI,OAAQwD,MAAA,UAAgBjE,EAAA,UAAeS,OAAOE,OAAA,EAAA+H,uBAAA,QAAAC,0BAAA,kBAAAC,6BAAA,wBAAyI5I,EAAA,OAAYoB,aAAaG,aAAA,UAAqBvB,EAAA,iBAAsBQ,YAAA,aAAAC,OAAgCoC,YAAAhD,EAAAgD,YAAAE,aAAAlD,EAAAkD,cAA8Db,IAAK2G,cAAAhJ,EAAA8D,cAAAmF,cAAAjJ,EAAAyH,iBAAoE,GAAAzH,EAAAa,GAAA,KAAAb,EAAAkF,OAAAgE,MAAAlJ,EAAAkF,OAAAgE,KAAAxL,OAAA,EAAAyC,EAAA,UAA+EQ,YAAA,eAA0BX,EAAAgB,GAAAhB,EAAAkF,OAAA,cAAAiE,EAAAhI,GAA6C,OAAAhB,EAAA,UAAoBgB,MAAAP,OAAewI,GAAA,GAAAC,GAAA,GAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAsCrJ,EAAA,oBAAyBS,OAAOjE,OAAAwM,GAAcM,UAAWnH,MAAA,SAAAC,GAAyBvC,EAAAuI,eAAAY,QAA2B,MAAMhJ,EAAA,UAAgBQ,YAAA,gBAA0BR,EAAA,eAAAH,EAAAa,GAAA,KAAAV,EAAA,OAA0CoB,aAAamI,OAAA,eAAAhI,aAAA,WAA8CvB,EAAA,iBAAsBS,OAAO+I,WAAA,GAAAC,eAAA5J,EAAAkF,OAAAqC,YAAAsC,cAAA,gBAAAC,YAAA9J,EAAAkF,OAAAsC,UAAAuC,OAAA,kCAAAC,MAAAhK,EAAAkF,OAAA+E,aAAmM5H,IAAK6H,cAAAlK,EAAAqI,iBAAA8B,iBAAAnK,EAAAsI,wBAA6E,gBAEt4C7F,oBCChC,IAcI2H,EAdqBzH,EAAQ,OAcjB0H,CACdxF,EACA8D,GAT6B,EAV/B,SAAoB9F,GAClBF,EAAQ,SAaS,kBAEU,MAUdG,EAAA,QAAAsH,EAAiB,uFClBhC,IAAAvO,GACAyO,GACApO,MAAA,MACApB,MAAA,OAEAD,GACAqB,MAAA,QACApB,MAAA,OAEAyP,GACArO,MAAA,QACApB,MAAA,QAEA0P,GACAtO,MAAA,OACApB,MAAA,SAGAmK,GACA1I,KAAA,eACAG,OACAgH,QACA9G,KAAAC,OACAE,QAAA,WACA,OACAuG,KAAA,EACAxI,MAAA,WAKAkC,UACAyN,SAAA,WACA,OACAC,QAAA,eACAf,WAAA9N,EAAAsB,KAAAuG,OAAAJ,MAAApH,OAAA,QACAkI,MAAA,MACAxC,OAAA,MACA+I,gBAAA,QAGA7P,MAAA,WACA,OAAAqC,KAAAuG,OAAA5I,SC/Ce8P,GADE7K,OAFjB,WAA0B,IAAaE,EAAb9C,KAAa+C,eAA0BC,EAAvChD,KAAuCiD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,QAA4B3C,MAA3FL,KAA2F,WAA3FA,KAAgH0D,GAAA,KAAAV,EAAA,QAAhHhD,KAAgH0D,GAAhH1D,KAAgH4D,GAAhH5D,KAAgHrC,aAEzH2H,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACEqC,EACA2F,GATF,EAEA,KAEA,KAEA,MAUe9H,EAAA,EAAAJ,EAAiB","file":"static/js/5.7fb947b23095fe53f6b5.js","sourcesContent":["export const SENSOR_TYPE = {\r\n  1: {\r\n    label: '电气',\r\n    icon: 'iconfont icon-jianzhudianqigongcheng',\r\n    bgClass: 'electric-fire'\r\n  },\r\n  'SmokeDtector': {\r\n    label: '烟感',\r\n    icon: 'iconfont icon-smoke-detector',\r\n    bgClass: 'smoke-detector'\r\n  },\r\n  'GasDetectorHome': {\r\n    label: '家用可燃气报警',\r\n    icon: 'iconfont icon-home-gas-detector',\r\n    bgClass: 'home-gas-detector'\r\n  },\r\n  'GasDetectorIndu': {\r\n    label: '工业可燃气体',\r\n    icon: 'iconfont icon-indu-gas-detector',\r\n    bgClass: 'indu-gas-detector'\r\n  },\r\n  'LiquidLevel': {\r\n    label: '液位',\r\n    icon: 'iconfont icon-shuiwei',\r\n    bgClass: 'water-level'\r\n  },\r\n  'WaterPressure': {\r\n    label: '水压',\r\n    icon: 'iconfont icon-water-press',\r\n    bgClass: 'water-pressure'\r\n  },\r\n  'Geomagnetic': {\r\n    label: '地磁',\r\n    icon: 'iconfont icon-geomagnetic',\r\n    bgClass: 'geomagnetic'\r\n  },\r\n  'Cover': {\r\n    label: '井盖',\r\n    icon: 'iconfont icon-cover',\r\n    bgClass: 'cover'\r\n  },\r\n  'WaterMeterSP': {\r\n    label: '视频采集水表',\r\n    icon: 'iconfont icon-yalichuanganqi',\r\n    bgClass: 'water-meter'\r\n  },\r\n  'WaterMeterSK': {\r\n    label: '水表',\r\n    icon: 'iconfont icon-yalichuanganqi',\r\n    bgClass: 'water-meter'\r\n  },\r\n  'Temp_Humi': {\r\n    label: '温湿度',\r\n    icon: 'iconfont icon-temp-hum',\r\n    bgClass: 'temp-hum'\r\n  },\r\n  'Lamp': {\r\n    label: '路灯',\r\n    icon: 'iconfont icon-streetlamp',\r\n    bgClass: 'lamp'\r\n  },\r\n  'Flow': {\r\n    label: '水流',\r\n    icon: 'iconfont icon-yangantanceqi',\r\n    bgClass: 'smoke-detector'\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/config/sensorType.js","<template>\r\n  <div :class=\"[equipmentDetail]\" :style=\"{'background-color': statusStyle.bgColor}\" v-loading=\"loading\">\r\n    <i class=\"sensor-icon\" :class=\"sen.icon\" :title=\"sen.title\"></i>\r\n    <el-row :gutter=\"0\" :title=\"sensor.title\" class=\"location\">\r\n      <el-col :span=\"otherStyles.title.span[0]\" >\r\n        <span>{{sensor.title}}</span>\r\n      </el-col>\r\n      <el-col v-if=\"otherStyles.title.showBtry\" :span=\"otherStyles.title.span[1]\" class=\"btry\">\r\n        <battery v-for=\"(bt, k) in sensor.batteries\" :key=\"k\" :value='bt.percent' :title=\"bt.tip\"></battery>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col>\r\n        <el-tag :color=\"statusStyle.tag.color\" style=\"color: #fff;font-size: 1.6667rem;font-family: Microsoft YaHei\">{{statusStyle.tag.text}}</el-tag>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"0\" :style=\"{'text-align': 'center', 'line-height': '5.7777rem', 'height': '6.25rem'}\" v-if=\"sensor.values.length > 0\">\r\n      <el-col v-for=\"(val, i) in sensor.values\" :key=\"i\" :span=\"24 / (sensor.values.length)\" class=\"data\" :title=\"val.tip\" :style=\"{'font-size': sensor.values.length <= 2 ? '5rem' : '1.3333rem'}\">\r\n        <span :style=\"{color: statusStyle.tag.color, 'font-family': 'ArialMT'}\">{{(val.value.toString().split(\".\").length === 2 && val.value.toString().split(\".\")[1].length > 2) ? parseFloat(val.value).toFixed(3) : val.value}}</span>\r\n        <span style=\"font-size: 0.6667rem;\">{{val.unit}}</span>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"0\" style=\"text-align: center; line-height: 5.7777rem; height: 6.25rem;\" v-if=\"sensor.commands.length > 0\">\r\n      <el-col v-for=\"(command, k) in sensor.commands\" :key=\"k\" :span=\"24 / (sensor.commands.length)\" :title=\"command.tip\" >\r\n        <el-button round :type=\"command.cmd == 'ON' ? 'success' : 'danger'\" size=\"mini\" @click=\"switchDev(command)\">{{command.name}}</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"0\" style=\"text-align: left; font-size:1.16667rem;\">\r\n      <el-col :span=\"10\" title=\"设备编号\">{{sensor.bottomLeft}}</el-col>\r\n      <el-col :span=\"12\" :offset=\"2\" title=\"上报时间\" style=\"text-align: right;\">{{sensor.bottomRight}}</el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport {SENSOR_TYPE} from '@/components/config/sensorType'\r\nimport Battery from '@/components/Battery.vue'\r\n\r\nconst STATUS_MAP = {\r\n  ok: {\r\n    bgColor: '#f3fff9',\r\n    tag: {\r\n      text: '正常',\r\n      color: '#5edf9b'\r\n    }\r\n  },\r\n  offline: {\r\n    bgColor: '#edf2ff',\r\n    tag: {\r\n      text: '离线',\r\n      color: '#618ff9'\r\n    }\r\n  },\r\n  error: {\r\n    bgColor: '#999999',\r\n    tag: {\r\n      text: '故障',\r\n      color: '#666666'\r\n    }\r\n  },\r\n  alarm: {\r\n    bgColor: '#fff4f4',\r\n    tag: {\r\n      text: '报警',\r\n      color: '#ff5b5b'\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'sensors',\r\n  components: {\r\n    'battery': Battery\r\n  },\r\n  props: {\r\n    params: {\r\n      type: Object,\r\n      required: true,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    sen: function () {\r\n      let {label: title, icon, bgClass} = SENSOR_TYPE[this.sensor.categoryCode] || {\r\n        label: '传感器',\r\n        icon: 'iconfont icon-yangantanceqi',\r\n        bgClass: 'smoke-detector'\r\n      }\r\n      return {\r\n        icon,\r\n        title,\r\n        bgClass\r\n      }\r\n    },\r\n    otherStyles: function () {\r\n      let style = {}\r\n      if (this.sensor.batteries && this.sensor.batteries.length > 0) {\r\n        style.title = {\r\n          showBtry: true,\r\n          span: [20, 4]\r\n        }\r\n      } else {\r\n        style.title = {\r\n          showBtry: false,\r\n          span: [24, 0]\r\n        }\r\n      }\r\n      return style\r\n    },\r\n    statusStyle: function () {\r\n      const MAP = {\r\n        '正常': 'ok',\r\n        '离线': 'offline',\r\n        '故障': 'error',\r\n        '报警': 'alarm'\r\n      }\r\n      const { statusName } = this.sensor\r\n      return STATUS_MAP[MAP[statusName]]\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      sensor: {\r\n        bottomLeft: '',\r\n        bottomRight: '',\r\n        categoryCode: '',\r\n        categoryName: '',\r\n        devId: '',\r\n        statusName: '',\r\n        title: '',\r\n        batteries: [],\r\n        values: [],\r\n        commands: []\r\n      },\r\n      equipmentDetail: 'equipment-detail'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      switchDevice: 'monitor/switchDevice'\r\n    }),\r\n    switchDev (command) {\r\n      this.loading = true\r\n      this.switchDevice({\r\n        cmd: command.cmd,\r\n        deveui: command.deveui\r\n      }).then(res => {\r\n        this.loading = false\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    params: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler: function (val, old) {\r\n        if (val) {\r\n          let {bottomLeft, bottomRight, categoryCode, categoryName, devId, statusName, title, batteries, values, commands} = val\r\n          this.sensor = Object.assign({}, this.sensor, {\r\n            bottomLeft,\r\n            bottomRight,\r\n            categoryCode,\r\n            categoryName,\r\n            devId,\r\n            statusName,\r\n            title,\r\n            batteries,\r\n            values,\r\n            commands\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/style/variable.less';\r\n.equipment-detail {\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  height: 18rem;\r\n  padding: 5px;\r\n  font-size: 1.5rem;\r\n  line-height: 4rem;\r\n  color: @common-font-color;\r\n  box-shadow: 0 2px 4px 0 rgba(0,0,0,0.12,0 0 6px rgba(0,0,0,0.04));\r\n  border: solid 1px @common-border-color;\r\n  border-radius: 4px;\r\n  cursor: default;\r\n  .sensor-icon {\r\n    position: absolute;\r\n    right: 0.8333rem;\r\n    bottom: 3rem;\r\n    font-size: 4rem;\r\n    z-index: 1;\r\n  }\r\n  .location {\r\n    line-height: 1.5rem;\r\n    height: 3rem;\r\n  }\r\n  .btry {\r\n    text-align: right;\r\n    line-height: 1.5rem;\r\n  }\r\n  .data {\r\n    // font-size: 2.3333rem; // 28px\r\n    white-space: nowrap;\r\n  }\r\n}\r\n.red {\r\n  color: red;\r\n}\r\n.yellow {\r\n  color: yellow;\r\n}\r\n.error {\r\n  color: #2D3132;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/sensors/Sensors.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],class:[_vm.equipmentDetail],style:({'background-color': _vm.statusStyle.bgColor})},[_c('i',{staticClass:\"sensor-icon\",class:_vm.sen.icon,attrs:{\"title\":_vm.sen.title}}),_vm._v(\" \"),_c('el-row',{staticClass:\"location\",attrs:{\"gutter\":0,\"title\":_vm.sensor.title}},[_c('el-col',{attrs:{\"span\":_vm.otherStyles.title.span[0]}},[_c('span',[_vm._v(_vm._s(_vm.sensor.title))])]),_vm._v(\" \"),(_vm.otherStyles.title.showBtry)?_c('el-col',{staticClass:\"btry\",attrs:{\"span\":_vm.otherStyles.title.span[1]}},_vm._l((_vm.sensor.batteries),function(bt,k){return _c('battery',{key:k,attrs:{\"value\":bt.percent,\"title\":bt.tip}})})):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('el-col',[_c('el-tag',{staticStyle:{\"color\":\"#fff\",\"font-size\":\"1.6667rem\",\"font-family\":\"Microsoft YaHei\"},attrs:{\"color\":_vm.statusStyle.tag.color}},[_vm._v(_vm._s(_vm.statusStyle.tag.text))])],1)],1),_vm._v(\" \"),(_vm.sensor.values.length > 0)?_c('el-row',{style:({'text-align': 'center', 'line-height': '5.7777rem', 'height': '6.25rem'}),attrs:{\"gutter\":0}},_vm._l((_vm.sensor.values),function(val,i){return _c('el-col',{key:i,staticClass:\"data\",style:({'font-size': _vm.sensor.values.length <= 2 ? '5rem' : '1.3333rem'}),attrs:{\"span\":24 / (_vm.sensor.values.length),\"title\":val.tip}},[_c('span',{style:({color: _vm.statusStyle.tag.color, 'font-family': 'ArialMT'})},[_vm._v(_vm._s((val.value.toString().split(\".\").length === 2 && val.value.toString().split(\".\")[1].length > 2) ? parseFloat(val.value).toFixed(3) : val.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"0.6667rem\"}},[_vm._v(_vm._s(val.unit))])])})):_vm._e(),_vm._v(\" \"),(_vm.sensor.commands.length > 0)?_c('el-row',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"5.7777rem\",\"height\":\"6.25rem\"},attrs:{\"gutter\":0}},_vm._l((_vm.sensor.commands),function(command,k){return _c('el-col',{key:k,attrs:{\"span\":24 / (_vm.sensor.commands.length),\"title\":command.tip}},[_c('el-button',{attrs:{\"round\":\"\",\"type\":command.cmd == 'ON' ? 'success' : 'danger',\"size\":\"mini\"},on:{\"click\":function($event){_vm.switchDev(command)}}},[_vm._v(_vm._s(command.name))])],1)})):_vm._e(),_vm._v(\" \"),_c('el-row',{staticStyle:{\"text-align\":\"left\",\"font-size\":\"1.16667rem\"},attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":10,\"title\":\"设备编号\"}},[_vm._v(_vm._s(_vm.sensor.bottomLeft))]),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":12,\"offset\":2,\"title\":\"上报时间\"}},[_vm._v(_vm._s(_vm.sensor.bottomRight))])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04be1ed5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sensors/Sensors.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04be1ed5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sensors.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sensors.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sensors.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04be1ed5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sensors.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04be1ed5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sensors/Sensors.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n  <div class=\"filter\">\r\n    <el-popover\r\n      key=\"pop1\"\r\n      placement=\"bottom\"\r\n      width=\"400\"\r\n      trigger=\"hover\"\r\n      popper-class=\"custom-popover\">\r\n      <div class=\"types\">\r\n        <el-button :type=\"getStyle('', 'type')\" size=\"mini\" round @click=\"changeSensors({code: '', name: '全部'})\">\r\n          全部\r\n        </el-button>\r\n        <el-button :type=\"getStyle(t.code, 'type')\" size=\"mini\" round v-for=\"(t, index) in types\" :key=\"index\" @click=\"changeSensors(t)\">\r\n          {{t.name}}\r\n        </el-button>\r\n      </div>\r\n      <div slot=\"reference\" style=\"cursor: pointer;\">\r\n        <span>全部类型</span><i class=\"el-icon-arrow-down\"></i>\r\n      </div>\r\n    </el-popover>\r\n  </div>\r\n  <div class=\"filter\" style=\"margin-left: 2rem;\">\r\n    <el-popover\r\n      key=\"pop2\"\r\n      placement=\"bottom\"\r\n      width=\"400\"\r\n      trigger=\"hover\"\r\n      popper-class=\"custom-popover\">\r\n      <div class=\"status\">\r\n        <el-button :type=\"getStyle('', 'status')\" size=\"mini\" round @click=\"changeStatus({value: '', name: '全部'})\">\r\n          全部\r\n        </el-button>\r\n        <el-button :type=\"getStyle(st.value, 'status')\" size=\"mini\" round v-for=\"(st, index) in sensorStatus\" :key=\"index\" @click=\"changeStatus(st)\">\r\n          {{st.name}}\r\n        </el-button>\r\n      </div>\r\n      <div slot=\"reference\" style=\"cursor: pointer;\">\r\n        <span>全部状态</span><i class=\"el-icon-arrow-down\"></i>\r\n      </div>\r\n    </el-popover>\r\n  </div>  \r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'filter',\r\n  props: {\r\n    sensorTypes: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    sensorStatus: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  computed: {\r\n    types: function () {\r\n      return this.sensorTypes.map(t => {\r\n        return {\r\n          code: t.CODE,\r\n          name: t.NAME\r\n        }\r\n      })\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: true,\r\n      status: [],\r\n      typeActive: '',\r\n      statusActive: ''\r\n    }\r\n  },\r\n  methods: {\r\n    toggle () {\r\n      this.show = !this.show\r\n    },\r\n    changeSensors (val) {\r\n      this.typeActive = val.code\r\n      this.$emit('sensorChanged', val)\r\n    },\r\n    changeStatus (val) {\r\n      let {value} = val\r\n      this.statusActive = value\r\n      this.$emit('statusChanged', val)\r\n    },\r\n    getStyle (value, type) {\r\n      let fieldName = (type === 'status' ? 'statusActive' : 'typeActive')\r\n      if (value === this[fieldName]) {\r\n        return 'primary'\r\n      } else {\r\n        return 'default'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../assets/style/variable.less';\r\n.filter {\r\n  display: inline-block;\r\n  position: relative;\r\n  font-size: 1.3333rem; // 16px\r\n  i, .el-checkbox-group {\r\n    display: inline-block;\r\n  }\r\n  i {\r\n    cursor: pointer;\r\n  }\r\n  .el-checkbox-group {\r\n    .el-checkbox {\r\n      color: @common-font-color !important;\r\n    }\r\n  }\r\n}\r\n\r\n.custom-popover {\r\n  .types, .status {\r\n    z-index: 10;\r\n    width: 30rem;\r\n    line-height: 3rem;\r\n    text-align: left;\r\n    .el-button {\r\n      display: inline-block;\r\n      text-align: center;\r\n      width: 8rem;\r\n      height: 2rem;\r\n      margin-left: 1rem;\r\n    }\r\n    .el-button--mini, .el-button--mini.is-round {\r\n      padding: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Filter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"filter\"},[_c('el-popover',{key:\"pop1\",attrs:{\"placement\":\"bottom\",\"width\":\"400\",\"trigger\":\"hover\",\"popper-class\":\"custom-popover\"}},[_c('div',{staticClass:\"types\"},[_c('el-button',{attrs:{\"type\":_vm.getStyle('', 'type'),\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.changeSensors({code: '', name: '全部'})}}},[_vm._v(\"\\r\\n          全部\\r\\n        \")]),_vm._v(\" \"),_vm._l((_vm.types),function(t,index){return _c('el-button',{key:index,attrs:{\"type\":_vm.getStyle(t.code, 'type'),\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.changeSensors(t)}}},[_vm._v(\"\\r\\n          \"+_vm._s(t.name)+\"\\r\\n        \")])})],2),_vm._v(\" \"),_c('div',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('span',[_vm._v(\"全部类型\")]),_c('i',{staticClass:\"el-icon-arrow-down\"})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"filter\",staticStyle:{\"margin-left\":\"2rem\"}},[_c('el-popover',{key:\"pop2\",attrs:{\"placement\":\"bottom\",\"width\":\"400\",\"trigger\":\"hover\",\"popper-class\":\"custom-popover\"}},[_c('div',{staticClass:\"status\"},[_c('el-button',{attrs:{\"type\":_vm.getStyle('', 'status'),\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.changeStatus({value: '', name: '全部'})}}},[_vm._v(\"\\r\\n          全部\\r\\n        \")]),_vm._v(\" \"),_vm._l((_vm.sensorStatus),function(st,index){return _c('el-button',{key:index,attrs:{\"type\":_vm.getStyle(st.value, 'status'),\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.changeStatus(st)}}},[_vm._v(\"\\r\\n          \"+_vm._s(st.name)+\"\\r\\n        \")])})],2),_vm._v(\" \"),_c('div',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('span',[_vm._v(\"全部状态\")]),_c('i',{staticClass:\"el-icon-arrow-down\"})])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a499b5bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Filter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a499b5bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Filter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Filter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Filter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a499b5bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Filter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a499b5bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Filter.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-container class=\"card-view\">\r\n    <el-aside class=\"statistics\" width=\"100%\" style=\"padding: 0.83333rem 0 0.83333rem 0.83333rem;\">\r\n      <el-row :gutter=\"0\" element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n        <div style=\"text-align:left;\">\r\n          <sensor-filter class=\"filter-com\" :sensorTypes=\"sensorTypes\" :sensorStatus=\"sensorStatus\" @sensorChanged='changeSensors' @statusChanged='ChangeStatus'></sensor-filter>\r\n        </div>\r\n        <el-row class=\"sensor-list\" v-if=\"device.list && device.list.length > 0\">\r\n          <el-col v-for=\"(item, key) in device.list\" :key=\"key\" :xs=\"12\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"6\">\r\n            <sensor-component :params=\"item\" @click.native=\"toDeviceDetail(item)\"></sensor-component>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"sensor-list\" v-else>\r\n          <no-data></no-data>\r\n        </el-row>\r\n        <div style='margin:0.83333rem 0;text-align:right'>\r\n          <el-pagination background @size-change='handleSizeChange' @current-change='handleCurrentChange' :current-page='device.page_number' :page-sizes='[10, 20, 30, 40 ,50]' :page-size='device.page_size' layout='total, sizes, prev, pager, next' :total='device.total_count'>\r\n          </el-pagination>\r\n        </div>\r\n      </el-row>\r\n    </el-aside>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport Sensors from '@/components/sensors/Sensors'\r\nimport SensorFilter from '@/components/Filter'\r\nimport AlarmStatus from '@/components/AlarmStatus'\r\nimport { mapActions, mapMutations, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'profile',\r\n  components: {\r\n    'sensor-component': Sensors,\r\n    'sensor-filter': SensorFilter,\r\n    'alarm-status': AlarmStatus\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      device: 'monitor/device',\r\n      userInfo: 'common/userInfo',\r\n      deviceInfo: 'monitor/deviceInfo',\r\n      sensorTypes: 'monitor/sensorTypes',\r\n      sensorStatus: 'monitor/sensorStatus'\r\n    })\r\n  },\r\n  data () {\r\n    return {\r\n      popVisible: false,\r\n      intervalId: '',\r\n      deviceloading: false,\r\n      alarmList: [],\r\n      filterSensorType: '',\r\n      filterSensorStatus: '',\r\n      selectedAlarm: {}\r\n    }\r\n  },\r\n  destroyed () {\r\n    console.log('destroyed=====')\r\n  },\r\n  mounted () {\r\n    console.log('mounted+++++++++')\r\n    this.intervalId = window.setInterval(async () => {\r\n      await this.queryDeviceList()\r\n    }, 3000)\r\n    this.getSensorTypes()\r\n    this.getSensorStatus()\r\n  },\r\n  beforeDestroy () {\r\n    window.clearInterval(this.intervalId)\r\n    this.intervalId = null\r\n    // 清楚store中数据\r\n    this.clearAllData()\r\n  },\r\n  /* beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      // 通过 `vm` 访问组件实例\r\n      vm.intervalId = window.setInterval(async () => {\r\n        await vm.queryDeviceList()\r\n      }, 3000)\r\n      vm.getSensorTypes()\r\n      vm.getSensorStatus()\r\n    })\r\n  }, */\r\n  beforeRouteLeave (to, from, next) {\r\n    window.clearInterval(this.intervalId)\r\n    this.intervalId = null\r\n    // 清楚store中数据\r\n    this.clearAllData()\r\n    next()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      getDeviceList: 'monitor/getDeviceList',\r\n      switchDevice: 'monitor/switchDevice',\r\n      configPage: 'monitor/configPage',\r\n      getSensorTypes: 'monitor/getSensorTypes',\r\n      getSensorStatus: 'monitor/getSensorStatus'\r\n    }),\r\n    ...mapMutations({\r\n      clearAllData: 'monitor/CLRAR_ALL_DATA'\r\n    }),\r\n    // 获取设备但前值列表\r\n    queryDeviceList () {\r\n      this.getDeviceList({\r\n        categoryCode: this.filterSensorType,\r\n        status: this.filterSensorStatus\r\n      })\r\n    },\r\n    // 过滤sensors\r\n    changeSensors (val) {\r\n      let {code} = val\r\n      this.filterSensorType = code\r\n      // 重置到第一页\r\n      this.configPage({'page_number': 1, 'page_size': this.device.page_size})\r\n      this.queryDeviceList()\r\n    },\r\n    // 过滤状态\r\n    ChangeStatus (val) {\r\n      let {value} = val\r\n      this.filterSensorStatus = value\r\n      // 重置到第一页\r\n      this.configPage({'page_number': 1, 'page_size': this.device.page_size})\r\n      this.queryDeviceList()\r\n    },\r\n    // 点击alarmlist的一行\r\n    selectAlarm (alarm, evt) {\r\n      this.popVisible = true\r\n      let { id, type, name, suggestion, deviceStatus, deviceStatusName, reason, desc, categoryCode } = alarm\r\n      this.selectedAlarm = {\r\n        id,\r\n        type,\r\n        name,\r\n        suggestion,\r\n        deviceStatus,\r\n        deviceStatusName,\r\n        reason,\r\n        desc,\r\n        categoryCode\r\n      }\r\n    },\r\n    /**\r\n     * 关闭confirm对话框\r\n     * @param flag popover是否可见\r\n     */\r\n    closeConfirm (flag = false) {\r\n      this.popVisible = false\r\n    },\r\n    // 分页数量的变化\r\n    handleSizeChange (val) {\r\n      this.configPage({'page_number': this.device.page_number, 'page_size': val})\r\n      this.queryDeviceList()\r\n    },\r\n    // 当前页数的变化\r\n    handleCurrentChange (val) {\r\n      this.configPage({'page_number': val, 'page_size': this.device.page_size})\r\n      this.queryDeviceList()\r\n    },\r\n    toDeviceDetail (val) {\r\n      let { devId } = val\r\n      this.$router.push({name: 'deviceInfo', query: { devId }})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/style/variable.less';\r\n.card-view {\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  .statistics {\r\n    position: relative;\r\n    .title {\r\n      font-size: 1.5rem;\r\n      font-weight: 700;\r\n    }\r\n    .filter-com {\r\n      display: inline-block;\r\n      // margin-left: 2rem;\r\n    }\r\n    .item {\r\n      span {\r\n        display: block;\r\n        font-size: 1.6667rem; // 20px\r\n      }\r\n    }\r\n    .terminal-status{\r\n      .detail{\r\n        span{\r\n          display: block;\r\n          font-size: 1.3333rem; // 16px\r\n        }\r\n      }\r\n    }\r\n    .sensor-list {\r\n      overflow-y: auto;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: flex-start;\r\n      text-align: left;\r\n      min-width: 56.0166rem;\r\n      margin-top: 0.83333rem;\r\n      .equipment-detail{\r\n        margin-right: 0.83333rem;\r\n      }\r\n    }\r\n  }\r\n  .alarm-list {\r\n    .box-card {\r\n      line-height: 2rem;\r\n      .title {\r\n        font-size: 1.5rem;\r\n        font-weight: 700;\r\n      }\r\n      .ellipse {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n      .alarms {\r\n        font-size: 1.3333rem; // 16px\r\n        text-align: left;\r\n        line-height: 2rem;\r\n        box-shadow: 0 2px 4px 0 rgba(0,0,0,0.12,0 0 6px rgba(0,0,0,0.04));\r\n        border-bottom: solid 2px @common-border-color;\r\n        .label {\r\n          font-size: 1rem; // 12px\r\n          color: #ccc;\r\n          background-color: #000;\r\n        }\r\n        /* .value {\r\n          font-size: 1rem;\r\n        } */\r\n      }\r\n    }\r\n  }\r\n  .footer{\r\n    padding: 0 20px;\r\n  }\r\n  .sensor-map {\r\n    height: 300px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/cardMode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"card-view\"},[_c('el-aside',{staticClass:\"statistics\",staticStyle:{\"padding\":\"0.83333rem 0 0.83333rem 0.83333rem\"},attrs:{\"width\":\"100%\"}},[_c('el-row',{attrs:{\"gutter\":0,\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('sensor-filter',{staticClass:\"filter-com\",attrs:{\"sensorTypes\":_vm.sensorTypes,\"sensorStatus\":_vm.sensorStatus},on:{\"sensorChanged\":_vm.changeSensors,\"statusChanged\":_vm.ChangeStatus}})],1),_vm._v(\" \"),(_vm.device.list && _vm.device.list.length > 0)?_c('el-row',{staticClass:\"sensor-list\"},_vm._l((_vm.device.list),function(item,key){return _c('el-col',{key:key,attrs:{\"xs\":12,\"sm\":12,\"md\":8,\"lg\":8,\"xl\":6}},[_c('sensor-component',{attrs:{\"params\":item},nativeOn:{\"click\":function($event){_vm.toDeviceDetail(item)}}})],1)})):_c('el-row',{staticClass:\"sensor-list\"},[_c('no-data')],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0.83333rem 0\",\"text-align\":\"right\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.device.page_number,\"page-sizes\":[10, 20, 30, 40 ,50],\"page-size\":_vm.device.page_size,\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.device.total_count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-302057c3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/cardMode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-302057c3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cardMode.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cardMode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cardMode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-302057c3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cardMode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-302057c3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/cardMode.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <span :style=\"styleObj\"></span>\r\n    <span>{{label}}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst STATUS_MAP = {\r\n  0: {\r\n    color: 'red',\r\n    label: '待处理'\r\n  },\r\n  1: {\r\n    color: 'green',\r\n    label: '已处理'\r\n  },\r\n  2: {\r\n    color: 'green',\r\n    label: '处理完成'\r\n  },\r\n  3: {\r\n    color: 'gray',\r\n    label: '自动恢复'\r\n  }\r\n}\r\nexport default {\r\n  name: 'alarm-status',\r\n  props: {\r\n    status: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          code: 2,\r\n          label: '处理完成'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    styleObj: function () {\r\n      return {\r\n        display: 'inline-block',\r\n        background: STATUS_MAP[this.status.code].color || 'green',\r\n        width: '8px',\r\n        height: '8px',\r\n        'border-radius': '50%'\r\n      }\r\n    },\r\n    label: function () {\r\n      return this.status.label\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/AlarmStatus.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{style:(_vm.styleObj)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.label))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4408c166\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AlarmStatus.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlarmStatus.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlarmStatus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4408c166\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AlarmStatus.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AlarmStatus.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}